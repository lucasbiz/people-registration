<!-- class="grid grid-cols-4 font-bold bg-gray-900 text-white p-3 whitespace-nowrap" -->
<div class="text-center max-h-[60vh] max-w-[1024px] bg-white">
  @if (loading()) {
    <div class="flex items-center justify-center h-[200px]">
      <p-progress-spinner
        strokeWidth="8"
        fill="transparent"
        animationDuration="1s"
        [style]="{ width: '50px', height: '50px' }"
      />
    </div>
  }

  @if (usersPage().users.length > 0 && !loading()) {
    <p-table
      [value]="usersPage().users"
      stripedRows
      [tableStyle]="{ 'min-width': '50rem' }"
      [paginator]="true"
      [scrollable]="true"
      scrollHeight="300px"
      (onPage)="onPageChange($event)"
      [rows]="usersPage().limit"
      [totalRecords]="usersPage().totalCount"
      [rowsPerPageOptions]="[10, 20, 30]"
    >
      <ng-template #header>
        <tr>
          <th>Nome</th>
          <th>Email</th>
          <th>Telefone</th>
          <th>Data de nascimento</th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template #body let-persons>
        <tr>
          <td>{{ persons.name }}</td>
          <td>{{ persons.email }}</td>
          <td>{{ persons.phone }}</td>
          <td>{{ persons.birthDate | date: "dd/MM/yyyy" : "UTC" }}</td>
          <td>
            <div class="flex gap-2">
              <p-button icon="pi pi-pencil" (click)="onEdit(persons)" />
              <p-button
                icon="pi pi-trash"
                aria-label="Save"
                (click)="onDelete(persons.id)"
              />
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  }
  @if (usersPage().users.length === 0 && !loading()) {
    <div class="flex flex-col items-center justify-center h-[200px] gap-2">
      <i class="pi pi-exclamation-circle" style="font-size: 1.5rem"></i>
      <p>Usuário não encontrado!</p>
    </div>
  }
</div>
